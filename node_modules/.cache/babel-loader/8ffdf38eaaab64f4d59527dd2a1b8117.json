{"ast":null,"code":"var _jsxFileName = \"/Users/jimben/Desktop/Final_Project_JimB/jimjordan/client/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react'; // import LogoBootstrap from './bootstrap-solid.svg'\n\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar request = require('request');\n\nfunction LoginCB(username, password) {\n  return new Promise(function (resolve, reject) {\n    request({\n      method: 'POST',\n      url: 'https://crm2-8b9bd4.appdrag.site/api/login',\n      form: {\n        \"username\": username,\n        \"password\": password,\n        \"AD_PageNbr\": \"1\",\n        \"AD_PageSize\": \"500\"\n      }\n    }, function (err, httpResponse, body) {\n      if (err != null) {\n        resolve(err);\n      } else {\n        resolve(body);\n      }\n    });\n  });\n} //    var result = await loginCB();\n//    console.log(result);\n\n\n_c = LoginCB;\n\nconst Identification = () => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [error, setError] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false); // let { path, url } = useRouteMatch();\n  // let { id, name } = useParams();\n\n  const onChangeUsername = event => {\n    const value = event.target.value;\n    setUsername(value);\n  };\n\n  const [password, setPassword] = useState('');\n\n  const onChangePassword = event => {\n    const value = event.target.value;\n    setPassword(value);\n    setError(false);\n  };\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    const userCredentials = await LoginCB(username, password);\n\n    if (!userCredentials) {\n      setError(true);\n    } else {\n      setLoggedIn(true);\n      const data = await LoginCB(username, password);\n      const datajson = JSON.parse(data).Table[0];\n      console.log(datajson.username);\n    }\n\n    console.log('userCredentials', userCredentials);\n  };\n\n  if (loggedIn) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5 p-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-md-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-signin\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"h2 mb-3 font-weight-normal text-center\",\n            children: \"Please sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"inputUsername\",\n            class: \"sr-only\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"inputUsername\",\n            className: \"form-control mt-4\",\n            onChange: onChangeUsername,\n            value: username,\n            placeholder: \"Username\",\n            required: true,\n            autofocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"inputPassword\",\n            class: \"sr-only\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"inputPassword\",\n            className: \"form-control mt-2 mb-2\",\n            value: password,\n            onChange: onChangePassword,\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Mauvais mot de passe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                value: \"remember-me\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, this), \" Remember me\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-lg btn-primary btn-block\",\n            type: \"submit\",\n            onClick: onSubmit,\n            disabled: password === \"\",\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-5 mb-3 text-muted\",\n            children: \"\\xA9 Btstu2021\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Identification, \"SMWJFjL0p2m75dgDxdcEXnpKKMQ=\");\n\n_c2 = Identification;\nexport default Identification;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LoginCB\");\n$RefreshReg$(_c2, \"Identification\");","map":{"version":3,"sources":["/Users/jimben/Desktop/Final_Project_JimB/jimjordan/client/src/components/Login.js"],"names":["React","useState","Redirect","request","require","LoginCB","username","password","Promise","resolve","reject","method","url","form","err","httpResponse","body","Identification","setUsername","error","setError","loggedIn","setLoggedIn","onChangeUsername","event","value","target","setPassword","onChangePassword","onSubmit","preventDefault","userCredentials","data","datajson","JSON","parse","Table","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n// import LogoBootstrap from './bootstrap-solid.svg'\n\nimport { Redirect } from 'react-router-dom'\n\n\n\nvar request = require('request');\n\n\n\n\nfunction LoginCB(username, password) {\n    return new Promise(function (resolve, reject) {\n        request({\n            method: 'POST',\n            url: 'https://crm2-8b9bd4.appdrag.site/api/login',\n            form: { \"username\": username, \"password\": password, \"AD_PageNbr\": \"1\", \"AD_PageSize\": \"500\" }\n        }, function (err, httpResponse, body) {\n            if (err != null) {\n                resolve(err);\n            }\n            else {\n                resolve(body);\n            }\n        });\n    });\n}\n//    var result = await loginCB();\n//    console.log(result);\n\n\n\n\nconst Identification = () => {\n    const [username, setUsername] = useState('')\n    const [error, setError] = useState(false)\n    const [loggedIn, setLoggedIn] = useState(false)\n    // let { path, url } = useRouteMatch();\n    // let { id, name } = useParams();\n\n    const onChangeUsername = (event) => {\n        const value = event.target.value\n        setUsername(value)\n    }\n\n    const [password, setPassword] = useState('')\n\n\n    const onChangePassword = (event) => {\n        const value = event.target.value\n        setPassword(value)\n        setError(false)\n    }\n\n\n\n    const onSubmit = async (event) => {\n        event.preventDefault()\n\n        const userCredentials = await LoginCB(username, password)\n        if (!userCredentials) {\n            setError(true)\n        } else {\n            setLoggedIn(true)\n            const data = await LoginCB(username, password)\n            const datajson = JSON.parse(data).Table[0]\n            console.log(datajson.username)\n        }\n        console.log('userCredentials', userCredentials)\n    }\n    if (loggedIn) {\n        return <Redirect to='/' />\n    }\n\n    return (\n\n        <div className=\"container mt-5 p-5\">\n            <div className=\"row justify-content-md-center\">\n                <div className=\"col-4\">\n\n                    <form className=\"form-signin\">\n                        {/* <img class=\"mb-4\" src={LogoBootstrap} alt=\"\" width=\"72\" height=\"72\" /> */}\n\n                        <h1 className=\"h2 mb-3 font-weight-normal text-center\">Please sign in</h1>\n                        <label for=\"inputUsername\" class=\"sr-only\">Email address</label>\n                        <input type=\"text\" id=\"inputUsername\" className=\"form-control mt-4\" onChange={onChangeUsername} value={username} placeholder=\"Username\" required autofocus />\n\n                        <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n                        <input type=\"password\" id=\"inputPassword\" className=\"form-control mt-2 mb-2\" value={password} onChange={onChangePassword} placeholder=\"Password\" required />\n\n\n\n                        {error && <div>Mauvais mot de passe</div>}\n                        <div className=\"checkbox mb-3\">\n                            <label>\n                                <input type=\"checkbox\" value=\"remember-me\" /> Remember me\n                            </label>\n                        </div>\n                        <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\" onClick={onSubmit}\n                            disabled={password === \"\"} >Sign in</button>\n                        <p className=\"mt-5 mb-3 text-muted\">&copy; Btstu2021</p>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Identification"]},"metadata":{},"sourceType":"module"}